#!/usr/bin/env zsh
# Usage:
# $ git branch-remove-remote (origin) foo
# $ git branch-remove-remote upstream foo
# $ git branch-remove-remote foo upstream

local branchName
local remoteName
local tmp

# The branch name is required
if [[ $# = 0 ]]; then
  echo "âœ˜ You must pass at least the branch to delete"
  exit 1
fi

# Only a branch name ? It's on origin
if [[ $# = 1 ]]; then
  branchName=$1
  remoteName="origin"
fi

# Remote name, then branch name
if [[ $# = 2 ]]; then
  remoteName=$1
  branchName=$2
  # Swapping them if remote is not a remote
  if ! git-remote-exists $remoteName; then
    tmp=$remoteName
    remoteName=$branchName
    branchName=$tmp
  fi
fi

git push $remoteName --delete $branchName

